<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>支付</title>
    <script src="../lib/jquery-3.1.0.js"></script>
    <script src="../lib/jquery.md5.js"></script>
</head>
<body>
<input type="button" class="btn" value="ajax">


<form id="pay" action="https://www.aw5880.cn/pay/action" method="post">
    <div align="center">
        <input type="hidden" value="57752125" id="uid" name="uid">
        <input type="hidden" value="d334cb030f2935c306ed47454a8c18dd" id="token" name="token">
        <table width="713" border="0">
            <tr>
                <td width="164">订单号:</td>
                <td><span>
          <label>
          <input type="text" name="orderid" value="" id="orderid">
          </label>
        </span></td>
            </tr>

            <tr>
                <td width="164">交易金额</td>
                <td><span>
          <label>
              <select name="price">
                  <option value="0.01">￥0.01</option>
                  <option value="1">￥1</option>
                  <option value="20">￥20</option>
                  <option value="200">￥200</option>
                  <option value="500">￥500</option>
                  <option value="1000">￥1000</option>
                  <option value="5000">￥5000</option>
                </select>提供的测试金额，正式号可以根据你们的需要自己定义；
          </label>
        </span></td>
            </tr>
            <tr>
                <td width="164">订单名称</td>
                <td><span>
          <label>
          <input type="text" name="goodsname" value="test">
          </label>
        </span></td>
            </tr>
            <tr>
                <td width="164">订单标记</td>
                <td><span>
          <label>
          <input type="tag" name="orderuid" id="orderuid" value="1">
          </label>
        </span></td>
            </tr>

            <tr>
                <td width="164">支付完成跳转地址</td>
                <td><span>
          <label>
          <input type="text" name="return_url" value="http://127.0.0.1/ok.php?type=test">
          </label>
        </span></td>
            </tr>
            <tr>
                <td width="164">后台通知的地址</td>
                <td><span>
          <label>
          <input type="text" name="notify_url" value="http://127.0.0.1/callback.php">
          </label>
        </span></td>
            </tr>
            <tr>
                <td width="164">付款方式</td>
                <td><span>
            <label>
              <select name="istype">
                <option value="10001">支付宝wap</option>
                <option value="20001">微信扫码【不定时提供】</option>
              </select>
            </label>
          </span>
                </td>
            </tr>
            <tr>
                <td width="164">界面选择</td>
                <td><span>
              <label>
                <select name="format">
				  <option value="json">json[返回json，可自定义页]</option>
                  <option value="web">web[使用智能云的支付页]</option>
                </select>
              </label>
            </span>
                </td>
            </tr>

            <tr>
                <td><input value="提交" type="submit" style="width:100px;"/></td>
                <td></td>
            </tr>

        </table>

</form>

<script>
    var uid = '57752125';     //商户号
    var price = parseFloat('0.01');         //价格
    var istype = 10001;     //支付渠道
    var notify_url = 'http://127.0.0.1/callback.php';
    var return_url = 'http://127.0.0.1/ok.php?type=test';
    var format = 'web';
    var orderid = '101015';
    var orderuid = '1';
    var goodsname = 'test';
    var token = 'd334cb030f2935c306ed47454a8c18dd';

    var key = $.md5(goodsname + istype + notify_url + orderid + orderuid + price + return_url + token + uid);

    console.log('key', key);

    var selectUrl = 'https://www.aw5880.cn/pay/action';
    var jsonText = 'uid=' + uid + '&price=' + price + '&istype=' + istype + '&notify_url=' + notify_url + '&return_url=' + return_url + '&orderid=' + orderid + '&orderuid=' + orderuid + '&goodsname=' + goodsname + '&token=' + token + '&key=' + key+'&format='+format;

    console.log(jsonText);
    $('.btn').click(function () {
        $.ajax({
            type: "get",
            url: selectUrl+'?'+jsonText,
            //data: jsonText,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            async: false,
            success: function (json) {
                console.log(json);
            },
            error: function () {
                console.log("There Is Error！");
            }
        })
    });
</script>
</body>
</html>