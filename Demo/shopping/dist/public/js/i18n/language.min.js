var i18nLanguage,getCookie=function(e,n,a){if(void 0===n){var t=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),o=0;o<i.length;o++){if((c=jQuery.trim(i[o])).substring(0,e.length+1)==e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t}a=a||{},null===n&&(n="",a.expires=-1);var r,g="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(r=new Date).setTime(r.getTime()+24*a.expires*60*60*1e3):r=a.expires,g="; expires="+r.toUTCString());var u=a.path?"; path="+a.path:"",p=a.domain?"; domain="+a.domain:"",s=([c,g,u,p,s].join(""),a.secure?"; secure":""),c=[[e,"=",encodeURIComponent(n)].join(""),g,u,p,s].join("");document.cookie=c},getNavLanguage=function(){return"Netscape"==navigator.appName&&navigator.language},webLanguage=["ZH","zh-TW","en"],execI18n=function(){var e=$("#i18n_pagename");if(e.length<1)return console.log('未找到页面名称元素，请在页面写入\n <meta id="i18n_pagename" content="页面名(对应语言包的语言文件名)">'),!1;var n=e.attr("content");if(n=n.split("-"),getCookie("userLanguage"))i18nLanguage=getCookie("userLanguage");else{var a=getNavLanguage();if(a)-1<$.inArray(a,webLanguage)&&getCookie("userLanguage",i18nLanguage=a,{"expires":30,"path":"/"});else i18nLanguage="ZH"}if(null==$.i18n)return!1;jQuery.i18n.properties({"name":n,"path":"xiao/Demo/shopping/dist/public/i18n/"+i18nLanguage+"/","mode":"map","language":i18nLanguage,"callback":function(){$(".i18n").each(function(){$(this).attr("data-name")&&$(this).html($.i18n.prop($(this).attr("data-name")))}),$(".i18n-input").each(function(){var e=$(this).attr("selectattr");e||(e="value"),$(this).attr("data-name")&&$(this).attr(e,$.i18n.prop($(this).attr("data-name")))})}})};$(function(){execI18n(),"ZH"===i18nLanguage?$(".lan input").attr("value","EN"):"EN"===i18nLanguage&&$(".lan input").attr("value","ZH"),$(".lan input").bind("click",function(){var e=$(this).val();getCookie("userLanguage",e,{"expires":30,"path":"/"}),location.reload()})});