var i18nLanguage,getCookie=function(e,t,i){if(void 0===t){var o=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){if((d=jQuery.trim(n[r])).substring(0,e.length+1)==e+"="){o=decodeURIComponent(d.substring(e.length+1));break}}return o}i=i||{},null===t&&(t="",i.expires=-1);var a,s="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(a=new Date).setTime(a.getTime()+60*i.expires*60*1e3):a=i.expires,s="; expires="+a.toUTCString());var l=i.path?"; path="+i.path:"",c=i.domain?"; domain="+i.domain:"",u=([d,s,l,c,u].join(""),i.secure?"; secure":""),d=[[e,"=",encodeURIComponent(t)].join(""),s,l,c,u].join("");document.cookie=d};function delAllCookie(){var e=new Date;e.setTime(-1e3);for(var t=document.cookie.split("; "),i=0;i<t.length;i++){var o=t[i].split("=");document.cookie=o[0]+"=''; expires="+e.toUTCString()+";path=/"}}function delCookie(e){var t=new Date;t.setTime(t.getTime()-1);var i=getCookie(e);null!=i&&(document.cookie=e+"="+i+";expires="+t.toUTCString()+";path=/")}getCookie("userLanguage")?i18nLanguage=getCookie("userLanguage"):getCookie("userLanguage",i18nLanguage="zh",{"expires":30,"path":"/"}),$(function(){var e="sz";getCookie("city")?(e=getCookie("city"),"zh"===i18nLanguage?"sz"===e?$(".address a").html("深圳"):$(".address a").html("上海"):"sz"===e?$(".address a").html("shenzhen"):$(".address a").html("shanghai")):getCookie("city",e,{"expires":30,"path":"/"}),$(document).bind("click",function(){$(".media-header .nav").slideUp(),$(".address ul").slideUp(),$(".service ul").slideUp(),$(".logined ul").slideUp()}),$(".logined a").click(function(e){e.stopPropagation(e),$(".logined ul").is(":hidden")?$(".logined ul").slideDown():$(".logined ul").slideUp()}),$(".address a").click(function(e){e.stopPropagation(e),$(this).parent().find("ul").is(":hidden")?$(this).parent().find("ul").slideDown():$(this).parent().find("ul").slideUp()}),$(".service a").click(function(e){e.stopPropagation(e),$(".service ul").is(":hidden")?$(".service ul").slideDown():$(".service ul").slideUp()}),$(".address li").click(function(){var e=$(this).html(),t=$(this).attr("data-name");getCookie("city",t,{"expires":30,"path":"/"}),$(".address a").html(e),$(".address ul").hide()}),$(".media-header .icon").click(function(e){e.stopPropagation(),$(".media-header .nav").is(":hidden")?$(".media-header .nav").slideDown():$(".media-header .nav").slideUp()})});var urlL="",url="http://byod.mc2edu.com";function login(){return!!getCookie("token")}function isEnglish(){return"en"===getCookie("userLanguage")}$(function(){$(".problem .title").click(function(){$(this).parent().find(".text").is(":hidden")?($(this).parent().find(".text").slideDown(),$(this).find("span").html("-")):($(this).parent().find(".text").slideUp(),$(this).find("span").html("+"))})});var ua=navigator.userAgent.toLocaleLowerCase(),isMobile=/iPhone|iPad|iPod|android|Windows Phone/gi.test(ua);function CheckMobile(e){return 0==e.search("^1(3|4|5|7|8)\\d{9}$")}function CheckNum(e){return 0==e.search("^[0-9]*$")}function CheckCode(e){return 0==e.search("^\\d{4}$")}function CheckEmail(e){return/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)}function CheckPwd(e){return!!/^\s*[.A-Za-z0-9_-]{5,15}\s*$/.test(e)}function GetRequest(){var e=location.search,t=new Object;if(-1!=e.indexOf("?")){var i=e.substr(1);strs=i.split("&");for(var o=0;o<strs.length;o++)t[strs[o].split("=")[0]]=unescape(strs[o].split("=")[1])}return t}function isEqual(e,t){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var i=toString.call(e);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}if("[object Object]"==i){var o=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(o.length!=n.length)return!1;for(var r=0;r<o.length;r++){var a=o[r];if(e[a]!==t[a])return!1}return!0}return"[object Array]"==i?e.toString()==t.toString():void 0}function isPhone(){var e=navigator.userAgent.toLocaleLowerCase();return!!/iPhone|iPad|iPod|android|Windows Phone/gi.test(e)}function getObjVal(e,t){for(var i in e)if(i===t)return e[i];return null}function toPrice(e){for(var t="",i=0,o=(e=(e||0).toString().split("."))[0].length-1;0<=o;o--)i++,t=e[0].charAt(o)+t,i%3||0==o||(t=","+t);return e[1]?t+"."+e[1]:t}$(function(){if($(".signOut").click(function(){var e={"token":t};delAllCookie(),$.ajax({"type":"POST","url":url+"/api/v1/user/logout","dataType":"json","data":e,"success":function(e){200===e.code&&(delAllCookie(),setTimeout(function(){location.href="index.html"},1e3))},"error":function(e,t,i){}})}),login()){$(".login").hide(),$(".loging").hide(),$(".mlogined").show(),isMobile?$(".logined").hide():$(".logined").show();var t=getCookie("token");api.getCartList(getCookie("userId"),i18nLanguage,function(e){$(".cart .count").html(e.length)});var e=getCookie("username");getCookie("username").length<=0?(e="",isEnglish()?$(".welcome").html("Dear "+getCookie("account")+", Welcome to "+getCookie("school")+" page."):$(".welcome").html("Dear "+getCookie("account")+", 欢迎访问"+getCookie("school")+"专属页面。")):isEnglish()?$(".welcome").html("Dear "+e+", Welcome to "+getCookie("school")+" page."):$(".welcome").html("Dear "+e+", 欢迎访问"+getCookie("school")+"专属页面。")}else $(".login").hide(),$(".loging").show(),isEnglish()?$(".welcome").html("Welcome."):$(".welcome").html("欢迎。");!function(){if(getCookie("localCart")){var e=getCookie("localCart").split(",");$(".cart .count").html(e.length)}}()}),Array.prototype.in_array=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return!0;return!1};