$(function(){var a,i,t=window.location.pathname.split("/")[2].slice(0,-5);function n(a){$(".goods .content ul").html("");var i=a.data;0<i.length?i.forEach(function(a,i){var t;t=null!==a.poster_info?a.poster_info.url:"";var e='<li>\n                    <a href="./articleDetails.html?id='+a.id+'">\n                        <div class="img">\n                            <img src="'+t+'" alt="">\n                        </div>\n                        <div class="con">\n                            <p class="Title">'+a.title+'</p>\n                            <p class="description">'+a.summary+"</p>\n                        </div>\n                    </a>\n                </li>";$(".goods .content ul").append(e)}):isEnglish()?$(".goods .content ul").html("No data"):$(".goods .content ul").html("无数据"),$(".goods .page #page").val(a.extra.page+"/"+a.extra.last_page)}"aboutUs"===t?("about",a=137,i=123):"eduSoftware"===t?("soft",a=135,i=120):"solution"===t?("solution",a=134,i=122):"information"===t&&("news",a=136,i=118),$.ajax({"type":"GET","url":url+"/api/v1/banner/index?category_id="+a,"dataType":"json","success":function(a){if(200==a.code){var i=a.data;$(".swiper-wrapper").html(""),i.forEach(function(a,i){var t='<div class="swiper-slide">\n                <a href="'+a.link+'"><img src="'+a.img_info.url+'" alt=""></a>\n            </div>';$(".swiper-wrapper").append(t)});new Swiper(".swiper-container",{"speed":1e3,"autoplay":{"delay":3e3},"loop":!0,"pagination":{"el":".swiper-pagination"}})}},"error":function(a,i,t){console.log(a,i,t)}}),$.ajax({"type":"GET","url":url+"/api/v1/category/index?type=article&lang="+i18nLanguage+"&parent_id="+i,"dataType":"json","success":function(a){if(200===a.code){var i=a.data,t=[],e="";i.forEach(function(a,i){t.push(a.id),e+='<li data-name="'+a.id+'">'+a.name+"</li>"}),isEnglish()?all='<li data-name="'+t.join(",")+'" class="active">All</li>':all='<li data-name="'+t.join(",")+'" class="active">全部</li>',$(".nav .left ul").append(all+e),api.getArticleList(t.join(","),1,20,i18nLanguage,n)}},"error":function(){}}),$(".nav .left ul").on("click","li",function(){$(".nav .left li").removeClass("active"),$(this).addClass("active");var a=$(this).attr("data-name");$(".goods .content ul").html("<li>Loading...</li>"),api.getArticleList(a,1,20,i18nLanguage,n)}),$(".goods .page #first").click(function(){var a=$(".nav .left .active").attr("data-name");api.getArticleList(a,1,20,i18nLanguage,n)}),$(".goods .page #last").click(function(){var a=$(".nav .left .active").attr("data-name"),i=$(".goods .page #page").val().split("/");api.getArticleList(a,i[1],20,i18nLanguage,n)}),$(".goods .page #left").click(function(){var a=$(".nav .left .active").attr("data-name"),i=$(".goods .page #page").val().split("/");"1"===i[0]?api.getArticleList(a,1,20,i18nLanguage,n):api.getArticleList(a,i[0]-1,20,i18nLanguage,n)}),$(".goods .page #right").click(function(){var a=$(".nav .left .active").attr("data-name"),i=$(".goods .page #page").val().split("/");i[0]+1>i[1]?api.getArticleList(a,i[1],20,i18nLanguage,n):api.getArticleList(a,i[0]+1,20,i18nLanguage,n)})});