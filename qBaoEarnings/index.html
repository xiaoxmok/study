<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>qBaoEarning</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/base.css">
    <link rel="stylesheet" type="text/css" href="./css/content.css">
    <script type="text/javascript" src="./js/fontresize.js"></script>
    <script src="./js/vue/vue.js"></script>
</head>
<body class="bg">
<div id="app">
    <div class="info_top">
        <p>仅供参考</p>
    </div>
    <div class="info_section">
        <div class="info_text">
            <span>总资产:</span>
            <input placeholder="请输入您的总资产" class="total"></input>
            <div class="del"><i></i></div>
        </div>
        <div class="info_text">
            <span>天数:</span>
            <input placeholder="请输入您的天数" class="days"></input>
            <div class="del"><i></i></div>
        </div>

        <button class="inqu" @click="submit">计算</button>
    </div>
    <h3 class="h3">计算结果</h3>

    <div class="info_section mar" v-for="msg in Message">
        <div class="info_con">
            <div class="left">
                <p>{{msg.days}}</p>
                <p>日收益：<span>{{msg.dailyIncome}}</span></p>
                <p>总资产：<span>{{msg.totals}}</span></p>
            </div>
            <div class="right">
                <p>账户管理费：<span>{{msg.dailyAccountManagementFee}}</span></p>
                <p>月管理费：<span>{{msg.monthAccountManagementFee}}</span></p>
            </div>
        </div>
    </div>

    <div class="err_tan">
        <p>格式错误！</p>
    </div>
    <div class="text"></div>
</div>
<script src="./js/jquery-2.2.2.min.js"></script>
<script src="./js/test.js"></script>

<script>


    $(function(){
        var input = $('.info_text input');
        input.keyup(function(){
            //console.log('222');
            //this.value=this.value.replace(/[^1-9]/g,'');
            if(this.value.length >0){
                $(this).parent().find('.del').show();
            }else{
                $(this).parent().find('.del').hide();
            }
        });

        $('.del').click(function(){
            $(this).parent().find('input').val("");
            $(this).hide();
        });
    });
    $(function(){
        $(".err_tan").removeAttr("style");
        var w = $('.err_tan').width();
        var w_d = $(document).width();
        //var w_p = $('.err_tan p').outerWidth();

        //console.log(w);
        //console.log(w_d);
        var w_t=w_d-150;


        if(w >= w_t){
            $('.err_tan').css({"width":w_t + "px"});
            $('.err_tan').css({"left":(w_d - $('.err_tan').outerWidth())/2+"px"});
        }else{
            $('.err_tan').css({"left":(w_d - $('.err_tan').outerWidth())/2+"px"});
            //$('.err_tan').css({"margin-left":-(w_rem/2)+"rem"});
        }

    });


    var vm=new Vue({
        el:'#app',
        data:{
            Message:[]
        },
        methods:{
            submit:function(){
                var valueAll;
                var total = $('.total').val();
                var days = $('.days').val();
                console.log(CheckNum(total));
                console.log(total);

                if(total == '' || days == ''){
                    console.log("无值");
                }else{
                    valueAll= cal(days,total);
                    //$('.text').html(valueAll);
                    this.Message = valueAll;

                    /*for(var i=0;i<valueAll.length;i++){
                        this.Message.push(valueAll[i]);
                    }*/

                    //console.log(valueAll[0].days);
                    //$('.text').html(this.Message);
                }
            }
        }
    });

    /*$('.inqu').click(function(){
        var valueAll;

        var total = $('.total').val();
        var days = $('.days').val();
        console.log(CheckNum(total));
        console.log(total);

        if(total == '' || days == ''){
            console.log("无值");
        }else{
            valueAll= cal(days,total);
            console.log(valueAll);
            var vm=new Vue({
                el:'#app',
                data:{
                    Message:valueAll
                },
                methods:{

                }
            });
        }

    });*/



    //是否是纯数字
    function CheckNum(Str) {
        var re=/^\d+$/;
        //var re=^(-?\\d+)(;

        return re.test(Str);
    }
</script>

</body>
</html>